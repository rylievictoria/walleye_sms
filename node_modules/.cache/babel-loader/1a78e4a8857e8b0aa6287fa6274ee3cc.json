{"ast":null,"code":"import _slicedToArray from\"/Users/rhendren/walleye_sms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import FormAlert from\"./FormAlert\";import FormField from\"./FormField\";import SectionButton from\"./SectionButton\";import contact from\"./../util/contact.js\";import{useForm}from\"react-hook-form\";function Contact(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),pending=_useState2[0],setPending=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),formAlert=_useState4[0],setFormAlert=_useState4[1];var _useForm=useForm(),handleSubmit=_useForm.handleSubmit,register=_useForm.register,errors=_useForm.errors,reset=_useForm.reset;var onSubmit=function onSubmit(data){// Show pending indicator\nsetPending(true);contact.submit(data).then(function(){// Clear form\nreset();// Show success alert message\nsetFormAlert({type:\"success\",message:\"Your message has been sent!\"});}).catch(function(error){// Show error alert message\nsetFormAlert({type:\"error\",message:error.message});}).finally(function(){// Hide pending indicator\nsetPending(false);});};return/*#__PURE__*/React.createElement(React.Fragment,null,formAlert&&/*#__PURE__*/React.createElement(FormAlert,{type:formAlert.type,message:formAlert.message}),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit(onSubmit)},/*#__PURE__*/React.createElement(\"div\",{className:\"field is-horizontal\"},/*#__PURE__*/React.createElement(\"div\",{className:\"field-body\"},props.showNameField&&/*#__PURE__*/React.createElement(FormField,{name:\"name\",type:\"text\",placeholder:\"Name\",error:errors.name,inputRef:register({required:\"Please enter your name\"})}),/*#__PURE__*/React.createElement(FormField,{name:\"email\",type:\"email\",placeholder:\"Email\",error:errors.email,inputRef:register({required:\"Please enter your email\"})}))),/*#__PURE__*/React.createElement(\"div\",{className:\"field is-horizontal\"},/*#__PURE__*/React.createElement(\"div\",{className:\"field-body\"},/*#__PURE__*/React.createElement(FormField,{name:\"message\",type:\"textarea\",placeholder:\"Message\",rows:5,error:errors.message,inputRef:register({required:\"Please enter a message\"})}))),/*#__PURE__*/React.createElement(\"div\",{className:\"field is-horizontal\"},/*#__PURE__*/React.createElement(\"div\",{className:\"field-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"field\"},/*#__PURE__*/React.createElement(\"div\",{className:\"control\"},/*#__PURE__*/React.createElement(SectionButton,{parentColor:props.parentColor,size:\"medium\",state:pending?\"loading\":\"normal\"},props.buttonText)))))));}export default Contact;","map":{"version":3,"sources":["/Users/rhendren/walleye_sms/src/components/Contact.js"],"names":["React","useState","FormAlert","FormField","SectionButton","contact","useForm","Contact","props","pending","setPending","formAlert","setFormAlert","handleSubmit","register","errors","reset","onSubmit","data","submit","then","type","message","catch","error","finally","showNameField","name","required","email","parentColor","buttonText"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport FormAlert from \"./FormAlert\";\nimport FormField from \"./FormField\";\nimport SectionButton from \"./SectionButton\";\nimport contact from \"./../util/contact.js\";\nimport { useForm } from \"react-hook-form\";\n\nfunction Contact(props) {\n  const [pending, setPending] = useState(false);\n  const [formAlert, setFormAlert] = useState(null);\n  const { handleSubmit, register, errors, reset } = useForm();\n\n  const onSubmit = (data) => {\n    // Show pending indicator\n    setPending(true);\n\n    contact\n      .submit(data)\n      .then(() => {\n        // Clear form\n        reset();\n        // Show success alert message\n        setFormAlert({\n          type: \"success\",\n          message: \"Your message has been sent!\",\n        });\n      })\n      .catch((error) => {\n        // Show error alert message\n        setFormAlert({\n          type: \"error\",\n          message: error.message,\n        });\n      })\n      .finally(() => {\n        // Hide pending indicator\n        setPending(false);\n      });\n  };\n\n  return (\n    <>\n      {formAlert && (\n        <FormAlert type={formAlert.type} message={formAlert.message} />\n      )}\n\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <div className=\"field is-horizontal\">\n          <div className=\"field-body\">\n            {props.showNameField && (\n              <FormField\n                name=\"name\"\n                type=\"text\"\n                placeholder=\"Name\"\n                error={errors.name}\n                inputRef={register({\n                  required: \"Please enter your name\",\n                })}\n              />\n            )}\n\n            <FormField\n              name=\"email\"\n              type=\"email\"\n              placeholder=\"Email\"\n              error={errors.email}\n              inputRef={register({\n                required: \"Please enter your email\",\n              })}\n            />\n          </div>\n        </div>\n        <div className=\"field is-horizontal\">\n          <div className=\"field-body\">\n            <FormField\n              name=\"message\"\n              type=\"textarea\"\n              placeholder=\"Message\"\n              rows={5}\n              error={errors.message}\n              inputRef={register({\n                required: \"Please enter a message\",\n              })}\n            />\n          </div>\n        </div>\n        <div className=\"field is-horizontal\">\n          <div className=\"field-body\">\n            <div className=\"field\">\n              <div className=\"control\">\n                <SectionButton\n                  parentColor={props.parentColor}\n                  size=\"medium\"\n                  state={pending ? \"loading\" : \"normal\"}\n                >\n                  {props.buttonText}\n                </SectionButton>\n              </div>\n            </div>\n          </div>\n        </div>\n      </form>\n    </>\n  );\n}\n\nexport default Contact;\n"]},"metadata":{},"sourceType":"module"}