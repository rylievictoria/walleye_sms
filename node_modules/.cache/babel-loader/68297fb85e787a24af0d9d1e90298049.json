{"ast":null,"code":"import _slicedToArray from\"/Users/rhendren/walleye_sms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import PageLoader from\"./PageLoader\";import{useAuth}from\"./../util/auth.js\";import{useRouter}from\"./../util/router.js\";import{redirectToBilling}from\"./../util/stripe.js\";function SettingsBilling(props){var router=useRouter();var auth=useAuth();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];useEffect(function(){if(auth.user.planIsActive){// If user has an active plan then\n// take them to Stripe billing\nredirectToBilling().catch(function(error){setLoading(false);props.onStatus({type:\"error\",message:error.message});});}else{// Otherwise go to pricing so they can\n// purchase a plan\nrouter.push(\"/pricing\");}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,loading&&/*#__PURE__*/React.createElement(PageLoader,{style:{height:\"100px\"}}));}export default SettingsBilling;","map":{"version":3,"sources":["/Users/rhendren/walleye_sms/src/components/SettingsBilling.js"],"names":["React","useEffect","useState","PageLoader","useAuth","useRouter","redirectToBilling","SettingsBilling","props","router","auth","loading","setLoading","user","planIsActive","catch","error","onStatus","type","message","push","height"],"mappings":"kJAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,OAASC,OAAT,KAAwB,mBAAxB,CACA,OAASC,SAAT,KAA0B,qBAA1B,CACA,OAASC,iBAAT,KAAkC,qBAAlC,CAEA,QAASC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC9B,GAAMC,CAAAA,MAAM,CAAGJ,SAAS,EAAxB,CACA,GAAMK,CAAAA,IAAI,CAAGN,OAAO,EAApB,CAF8B,cAGAF,QAAQ,CAAC,IAAD,CAHR,wCAGvBS,OAHuB,eAGdC,UAHc,eAK9BX,SAAS,CAAC,UAAM,CACd,GAAIS,IAAI,CAACG,IAAL,CAAUC,YAAd,CAA4B,CAC1B;AACA;AACAR,iBAAiB,GAAGS,KAApB,CAA0B,SAACC,KAAD,CAAW,CACnCJ,UAAU,CAAC,KAAD,CAAV,CACAJ,KAAK,CAACS,QAAN,CAAe,CACbC,IAAI,CAAE,OADO,CAEbC,OAAO,CAAEH,KAAK,CAACG,OAFF,CAAf,EAID,CAND,EAOD,CAVD,IAUO,CACL;AACA;AACAV,MAAM,CAACW,IAAP,CAAY,UAAZ,EACD,CAED;AACD,CAlBQ,CAkBN,EAlBM,CAAT,CAoBA,mBACE,wCACGT,OAAO,eACN,oBAAC,UAAD,EACE,KAAK,CAAE,CACLU,MAAM,CAAE,OADH,CADT,EAFJ,CADF,CAWD,CAED,cAAed,CAAAA,eAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport PageLoader from \"./PageLoader\";\nimport { useAuth } from \"./../util/auth.js\";\nimport { useRouter } from \"./../util/router.js\";\nimport { redirectToBilling } from \"./../util/stripe.js\";\n\nfunction SettingsBilling(props) {\n  const router = useRouter();\n  const auth = useAuth();\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (auth.user.planIsActive) {\n      // If user has an active plan then\n      // take them to Stripe billing\n      redirectToBilling().catch((error) => {\n        setLoading(false);\n        props.onStatus({\n          type: \"error\",\n          message: error.message,\n        });\n      });\n    } else {\n      // Otherwise go to pricing so they can\n      // purchase a plan\n      router.push(\"/pricing\");\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <>\n      {loading && (\n        <PageLoader\n          style={{\n            height: \"100px\",\n          }}\n        />\n      )}\n    </>\n  );\n}\n\nexport default SettingsBilling;\n"]},"metadata":{},"sourceType":"module"}