{"ast":null,"code":"var _jsxFileName = \"/Users/rhendren/walleye_sms/src/components/DashboardSection.js\";\nimport React, { useState } from \"react\";\nimport Section from \"./Section\";\nimport SectionHeader from \"./SectionHeader\";\nimport ReauthModal from \"./ReauthModal\";\nimport DashboardNav from \"./DashboardNav\";\nimport FormAlert from \"./FormAlert\";\nimport DashboardHome from \"./DashboardHome\";\nimport DashboardSms from \"./DashboardSms\";\nimport { Link, useRouter } from \"./../util/router.js\";\nimport { useAuth } from \"./../util/auth.js\";\nimport \"./DashboardSection.scss\";\n\nfunction DashboardSection(props) {\n  const auth = useAuth();\n  const router = useRouter();\n  const [formAlert, setFormAlert] = useState(null); // State to control whether we show a re-authentication flow\n  // Required by some security sensitive actions, such as changing password.\n\n  const [reauthState, setReauthState] = useState({\n    show: false\n  });\n  const validSections = {\n    \"home\": true,\n    \"send-a-text\": true\n  };\n  const section = validSections[props.section] ? props.section : \"home\"; // Handle status of type \"success\", \"error\", or \"requires-recent-login\"\n  // We don't treat \"requires-recent-login\" as an error as we handle it\n  // gracefully by taking the user through a re-authentication flow.\n\n  const handleStatus = ({\n    type,\n    message,\n    callback\n  }) => {\n    if (type === \"requires-recent-login\") {\n      // First clear any existing message\n      setFormAlert(null); // Then update state to show re-authentication modal\n\n      setReauthState({\n        show: true,\n        // Failed action to try again after reauth\n        callback: callback\n      });\n    } else {\n      // Display message to user (type is success or error)\n      setFormAlert({\n        type: type,\n        message: message\n      });\n    }\n  };\n\n  if (router.query.paid) {}\n\n  return /*#__PURE__*/React.createElement(Section, {\n    color: props.color,\n    size: props.size,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SectionHeader, {\n    title: props.title,\n    subtitle: props.subtitle,\n    size: 3,\n    spaced: true,\n    className: \"has-text-centered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }), router.query.paid && auth.user.planIsActive && /*#__PURE__*/React.createElement(\"article\", {\n    className: \"DashboardSection__paid-message message is-success mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"message-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, \"You are now subscribed\", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml-2\",\n    role: \"img\",\n    \"aria-label\": \"party\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, \"\\uD83E\\uDD73\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"columns is-vcentered is-desktop mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column is-6-desktop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Section, {\n    color: props.color,\n    size: props.size,\n    backgroundImage: props.backgroundImage,\n    backgroundImageOpacity: props.backgroundImageOpacity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, reauthState.show && /*#__PURE__*/React.createElement(ReauthModal, {\n    callback: reauthState.callback,\n    provider: auth.user.providers[0],\n    onDone: () => setReauthState({\n      show: false\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(DashboardNav, {\n    activeKey: section,\n    parentColor: props.color,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"DashboardSection__container container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, formAlert && /*#__PURE__*/React.createElement(FormAlert, {\n    type: formAlert.type,\n    message: formAlert.message,\n    style: {\n      maxWidth: \"450px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }), section === \"home\" && /*#__PURE__*/React.createElement(DashboardHome, {\n    parentColor: props.color,\n    onStatus: handleStatus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }), section === \"send-a-text\" && /*#__PURE__*/React.createElement(DashboardSms, {\n    parentColor: props.color,\n    onStatus: handleStatus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column is-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"figure\", {\n    className: \"DashboardSection__image image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://uploads.divjoy.com/undraw-personal_settings_kihd.svg\",\n    alt: \"Illustration\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mx-auto has-text-centered mt-5\",\n    style: {\n      maxWidth: \"460px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, \"Some helpful debug info\", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml-1\",\n    role: \"img\",\n    \"aria-label\": \"bug\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, \"\\uD83D\\uDC1B\")), /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"panel mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-block is-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, \"Logged in as\\xA0\", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 33\n    }\n  }, auth.user.email)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-block is-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, auth.user.stripeSubscriptionId && /*#__PURE__*/React.createElement(React.Fragment, null, \"Subscription data\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  }), \"ID: \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 23\n    }\n  }, auth.user.stripeSubscriptionId), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 19\n    }\n  }), \"Price ID: \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 29\n    }\n  }, auth.user.stripePriceId), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 19\n    }\n  }), \"Status: \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 27\n    }\n  }, auth.user.stripeSubscriptionStatus)), !auth.user.stripeSubscriptionId && /*#__PURE__*/React.createElement(Link, {\n    to: \"/pricing\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  }, \"Subscribe to a plan\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-block is-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/settings/general\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 15\n    }\n  }, \"Account settings\"))))));\n}\n\nexport default DashboardSection;","map":{"version":3,"sources":["/Users/rhendren/walleye_sms/src/components/DashboardSection.js"],"names":["React","useState","Section","SectionHeader","ReauthModal","DashboardNav","FormAlert","DashboardHome","DashboardSms","Link","useRouter","useAuth","DashboardSection","props","auth","router","formAlert","setFormAlert","reauthState","setReauthState","show","validSections","section","handleStatus","type","message","callback","query","paid","color","size","title","subtitle","user","planIsActive","backgroundImage","backgroundImageOpacity","providers","maxWidth","email","stripeSubscriptionId","stripePriceId","stripeSubscriptionStatus"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Section from \"./Section\";\nimport SectionHeader from \"./SectionHeader\";\nimport ReauthModal from \"./ReauthModal\";\nimport DashboardNav from \"./DashboardNav\";\nimport FormAlert from \"./FormAlert\";\nimport DashboardHome from \"./DashboardHome\";\nimport DashboardSms from \"./DashboardSms\";\nimport { Link, useRouter } from \"./../util/router.js\";\nimport { useAuth } from \"./../util/auth.js\";\nimport \"./DashboardSection.scss\";\n\n\nfunction DashboardSection(props) {\n  const auth = useAuth();\n  const router = useRouter();\n  const [formAlert, setFormAlert] = useState(null);\n\n  // State to control whether we show a re-authentication flow\n  // Required by some security sensitive actions, such as changing password.\n  const [reauthState, setReauthState] = useState({\n    show: false,\n  });\n\n  const validSections = {\n    \"home\": true,\n    \"send-a-text\": true,\n  };\n\n  const section = validSections[props.section] ? props.section : \"home\";\n\n  // Handle status of type \"success\", \"error\", or \"requires-recent-login\"\n  // We don't treat \"requires-recent-login\" as an error as we handle it\n  // gracefully by taking the user through a re-authentication flow.\n  const handleStatus = ({ type, message, callback }) => {\n    if (type === \"requires-recent-login\") {\n      // First clear any existing message\n      setFormAlert(null);\n      // Then update state to show re-authentication modal\n      setReauthState({\n        show: true,\n        // Failed action to try again after reauth\n        callback: callback,\n      });\n    } else {\n      // Display message to user (type is success or error)\n      setFormAlert({\n        type: type,\n        message: message,\n      });\n    }\n  };\n\n  if (router.query.paid) {\n    \n  }\n\n  return (\n    <Section color={props.color} size={props.size}>\n      <div className=\"container\">\n        <SectionHeader\n          title={props.title}\n          subtitle={props.subtitle}\n          size={3}\n          spaced={true}\n          className=\"has-text-centered\"\n        />\n\n        {router.query.paid && auth.user.planIsActive && (\n          <article className=\"DashboardSection__paid-message message is-success mx-auto\">\n            <div className=\"message-body\">\n              You are now subscribed\n              <span className=\"ml-2\" role=\"img\" aria-label=\"party\">\n                🥳\n              </span>\n            </div>\n          </article>\n        )}\n\n        <div className=\"columns is-vcentered is-desktop mt-5\">\n          <div className=\"column is-6-desktop\">\n            <div className=\"content\">\n            <Section\n      color={props.color}\n      size={props.size}\n      backgroundImage={props.backgroundImage}\n      backgroundImageOpacity={props.backgroundImageOpacity}\n    >\n      {reauthState.show && (\n        <ReauthModal\n          callback={reauthState.callback}\n          provider={auth.user.providers[0]}\n          onDone={() => setReauthState({ show: false })}\n        />\n      )}\n\n      <DashboardNav activeKey={section} parentColor={props.color} />\n      <div className=\"DashboardSection__container container\">\n        {formAlert && (\n          <FormAlert\n            type={formAlert.type}\n            message={formAlert.message}\n            style={{ maxWidth: \"450px\" }}\n          />\n        )}\n\n        {section === \"home\" && (\n          <DashboardHome parentColor={props.color} onStatus={handleStatus} />\n        )}\n\n        {section === \"send-a-text\" && (\n          <DashboardSms parentColor={props.color} onStatus={handleStatus} />\n        )}\n      </div>\n    </Section>\n            </div>\n          </div>\n          <div className=\"column is-1\" />\n          <div className=\"column\">\n            <figure className=\"DashboardSection__image image\">\n              <img\n                src=\"https://uploads.divjoy.com/undraw-personal_settings_kihd.svg\"\n                alt=\"Illustration\"\n              />\n            </figure>\n          </div>\n        </div>\n        <div\n          className=\"mx-auto has-text-centered mt-5\"\n          style={{\n            maxWidth: \"460px\",\n          }}\n        >\n          <small>\n            Some helpful debug info\n            <span className=\"ml-1\" role=\"img\" aria-label=\"bug\">\n              🐛\n            </span>\n          </small>\n          <nav className=\"panel mt-3\">\n            <div className=\"panel-block is-block\">\n              Logged in as&nbsp;<strong>{auth.user.email}</strong>\n            </div>\n            <div className=\"panel-block is-block\">\n              {auth.user.stripeSubscriptionId && (\n                <>\n                  Subscription data\n                  <br />\n                  ID: <strong>{auth.user.stripeSubscriptionId}</strong>\n                  <br />\n                  Price ID: <strong>{auth.user.stripePriceId}</strong>\n                  <br />\n                  Status: <strong>{auth.user.stripeSubscriptionStatus}</strong>\n                </>\n              )}\n\n              {!auth.user.stripeSubscriptionId && (\n                <Link to=\"/pricing\">Subscribe to a plan</Link>\n              )}\n            </div>\n            <div className=\"panel-block is-block\">\n              <Link to=\"/settings/general\">Account settings</Link>\n            </div>\n          </nav>\n        </div>\n      </div>\n    </Section>\n  );\n}\n\nexport default DashboardSection;\n"]},"metadata":{},"sourceType":"module"}